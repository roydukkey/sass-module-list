// Copyright (c) roydukkey. All rights reserved.
// Licensed under the MIT. See LICENSE file in the project root for full license information.
////
/// @author roydukkey
/// @group api
////

@use 'sass:math'
@use 'sass:meta'
@use '../../internal'


///
/// The numeric comparison method used by the sort function.
///
/// @return {Function}
///
	@overload numeric()
///
/// Used to compare two list items as numbers in ascending order. All non-numeric items are shifted right.
///
/// @param {*} $first-item - The first item for the comparison.
/// @param {*} $second-item - The second item for the comparison.
/// @param {Number} $center [0] - The value indicating the center (zero) position between positive and negative values.
/// @return {Number}
///
	@overload numeric($first-item, $second-item, $center: 0)
///
/// @access public
/// @require _numeric
///
@function numeric($args...)
	@return internal.call-or-reference(meta.get-function('_numeric'), $args...)


///
/// The descending numeric comparison method used by the sort function.
///
/// @return {Function}
///
	@overload numeric-desc()
///
/// Used to compare two list items as numbers in descending order. All non-numeric items are shifted left.
///
/// @param {*} $first-item - The first item for the comparison.
/// @param {*} $second-item - The second item for the comparison.
/// @param {Number} $center [0] - The value indicating the center (zero) position between positive and negative values.
/// @return {Number}
///
	@overload numeric-desc($first-item, $second-item, $center: 0)
///
/// @access public
/// @require _numeric-desc
///
@function numeric-desc($args...)
	@return internal.call-or-reference(meta.get-function('_numeric-desc'), $args...)


///
/// Used to compare two list items as numbers in ascending order. All non-numeric items are shifted right.
///
/// @param {*} $first-item - The first item for the comparison.
/// @param {*} $second-item - The second item for the comparison.
/// @param {Number} $center [0] - The value indicating the center (zero) position between positive and negative values.
/// @return {Number}
///
/// @access private
///
@function _numeric($first-item, $second-item, $center: 0)

	@if meta.type-of($first-item) != 'number'
		@return 1

	@if meta.type-of($second-item) != 'number'
		@return -1

	$center-test: math.is-unitless($center)
	$first-test: math.is-unitless($first-item)
	$second-test: math.is-unitless($second-item)

	// Strip units -OR- normalize units for incompatible and unitless numbers
	@if $center-test and not $first-test or $first-test or not math.compatible($first-item, $center)
		$first-item: math.div($first-item, $first-item * 0 + 1) * ($center + 1)

	@if $center-test and not $second-test or $second-test or not math.compatible($second-item, $center)
		$second-item: math.div($second-item, $second-item * 0 + 1) * ($center + 1)

	@return $first-item - $second-item


///
/// Used to compare two list items as numbers in descending order. All non-numeric items are shifted left.
///
/// @param {*} $first-item - The first item for the comparison.
/// @param {*} $second-item - The second item for the comparison.
/// @param {Number} $center [0] - The value indicating the center (zero) position between positive and negative values.
/// @return {Number}
///
/// @access private
/// @require _numeric
///
@function _numeric-desc($first-item, $second-item, $center: 0)
	@return _numeric($second-item, $first-item, $center)
