// Copyright (c) roydukkey. All rights reserved.
// Licensed under the MIT. See LICENSE file in the project root for full license information.
////
/// @author roydukkey
/// @group tests
////

@use 'sass:list'
@use 'src'
@use 'true'


@include true.describe('@function src.flat')
	$list: 15 (14 13 12 (11 10 (9 8))) 7 (((6 5) 4) 3) 2 1

	@include true.it('Flatten a list')
		$assert: src.flat($list)
		$expected: 15 14 13 12 (11 10 (9 8)) 7 ((6 5) 4) 3 2 1
		@include true.assert-equal($assert, $expected)

	@include true.it('Flatten a list to a given depth')
		$assert: src.flat($list, 2)
		$expected: 15 14 13 12 11 10 (9 8) 7 (6 5) 4 3 2 1
		@include true.assert-equal($assert, $expected)

	@include true.it('Flatten a list changing the separator')
		$assert: src.flat($list, $separator: comma)
		$expected: 15, 14, 13, 12, (11 10 (9 8)), 7, ((6 5) 4), 3, 2, 1
		@include true.assert-equal($assert, $expected, '[comma]')

		$assert: src.flat($expected, 2, space)
		$expected: 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1
		@include true.assert-equal($assert, $expected, '[space]')

		$assert: src.flat($list, 2, slash)
		$expected: list.slash(15, 14, 13, 12, 11, 10, (9 8), 7, (6 5), 4, 3, 2, 1)
		@include true.assert-equal($assert, $expected, '[slash]')
