// Copyright (c) roydukkey. All rights reserved.
// Licensed under the MIT. See LICENSE file in the project root for full license information.
////
/// @author roydukkey
/// @group tests
////

@use 'sass:list'
@use 'src'
@use 'true'


@include true.describe('@function src.slice')
	$list: ['ant', 'bison', 'camel', 'duck', 'elephant']

	@include true.it('Extract a list from a positive (+) beginning index')
		$assert: src.slice($list, 2)
		$expected: ['bison', 'camel', 'duck', 'elephant']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract a list from a negative (-) beginning index')
		$assert: src.slice($list, -2)
		$expected: ['duck', 'elephant']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract a list from a positive (+) beginning and ending indexes')
		$assert: src.slice($list, 3, 4)
		$expected: ['camel', 'duck']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract a list from a negative (-) beginning and positive (+) ending indexes')
		$assert: src.slice($list, -4, 4)
		$expected: ['bison', 'camel', 'duck']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract a list from a positive (+) beginning and negative (-) ending indexes')
		$assert: src.slice($list, 2, -2)
		$expected: ['bison', 'camel', 'duck']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract a list from a negative (-) beginning and ending indexes')
		$assert: src.slice($list, -4, -2)
		$expected: ['bison', 'camel', 'duck']
		@include true.assert-equal($assert, $expected)

	@include true.it('Extract the first element from a list')
		$assert: src.slice($list, 1, 1)
		$expected: ['ant',]
		@include true.assert-equal($assert, $expected, '[1, 1]')

		$assert: src.slice($list, 1, -5)
		@include true.assert-equal($assert, $expected, '[1, -5]')

		$assert: src.slice($list, -5, 1)
		@include true.assert-equal($assert, $expected, '[-5, 1]')

		$assert: src.slice($list, -5, -5)
		@include true.assert-equal($assert, $expected, '[-5, -5]')

	@include true.it('Extract the last element from a list')
		$assert: src.slice($list, 5)
		$expected: ['elephant',]
		@include true.assert-equal($assert, $expected, '[5]')

		$assert: src.slice($list, -1)
		@include true.assert-equal($assert, $expected, '[-1]')

		$assert: src.slice($list, -1, 5)
		@include true.assert-equal($assert, $expected, '[-1, 5]')

		$assert: src.slice($list, 5, -1)
		@include true.assert-equal($assert, $expected, '[5, -1]')

		$assert: src.slice($list, -1, -1)
		@include true.assert-equal($assert, $expected, '[-1, -1]')

	@include true.it('Extract a list with a different separator')
		$assert: src.slice($list, 2, $separator: space)
		$expected: ['bison' 'camel' 'duck' 'elephant']
		@include true.assert-equal($assert, $expected, '[space]')

		$assert: src.slice($expected, 2, $separator: comma)
		$expected: ['camel', 'duck', 'elephant']
		@include true.assert-equal($assert, $expected, '[comma]')

		$assert: src.slice($expected, -2, -1, $separator: slash)
		$expected: list.join(list.slash('duck', 'elephant'), (), $bracketed: true)
		@include true.assert-equal($assert, $expected, '[slash]')
