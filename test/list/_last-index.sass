// Copyright (c) roydukkey. All rights reserved.
// Licensed under the MIT. See LICENSE file in the project root for full license information.
////
/// @author roydukkey
/// @group tests
////

@use 'sass:list'
@use 'sass:meta'
@use 'src'
@use 'true'


@include true.describe('@function src.last-index')
	$list: 'a' true 8 'b' true 2 4 10 'b' false

	@include true.it('Get an last index for an item from a list')
		$assert: src.last-index($list, 'b')
		$expected: 9
		@include true.assert-equal($assert, $expected)

	@include true.it('Get an last index for an item from an positive (+) offset of the list')
		$assert: src.last-index($list, 'b', 5)
		$expected: 4
		@include true.assert-equal($assert, $expected)

	@include true.it('Get an last index for an item from an negative (-) offset of the list')
		$assert: src.last-index($list, 'b', -3)
		$expected: 4
		@include true.assert-equal($assert, $expected)

	@include true.it('Return zero when an item is not present in the list')
		$assert: src.last-index($list, 'c')
		$expected: 0
		@include true.assert-equal($assert, $expected)

	@include true.it('Throws when $from-index is not an number')
		$assert: src.last-index(null, null, null)
		$expected: 'ERROR: $from-index: `null` is not a number for `last-index()`.'
		@include true.assert-equal($assert, $expected)

	@include true.it('Throws when $from-index index is zero')
		$assert: src.last-index(null, null, 0)
		$expected: 'ERROR: $from-index: List index may not be 0 for `last-index()`.'
		@include true.assert-equal($assert, $expected, '[0]')

	@include true.it('Throws when $from-index index is invalid for length')
		$assert: src.last-index(null, null, 2)
		$expected: 'ERROR: $from-index: Invalid index 2 for a list with 1 elements for `last-index()`.'
		@include true.assert-equal($assert, $expected, '[2]')

		$assert: src.last-index(null, null, -2)
		$expected: 'ERROR: $from-index: Invalid index -2 for a list with 1 elements for `last-index()`.'
		@include true.assert-equal($assert, $expected, '[-2]')
